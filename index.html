<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ブックマークレット一覧</title>

    <style>
        body {
            padding-left: 2vw;
            padding-right: 2vw;
        }

        p {
            font-size: medium;
        }

        pre {
            overflow: auto;
            white-space: pre-line;
        }

        .block {
            padding: 8px;
            margin-bottom: 2vh;
            border: 2px solid;
        }
    </style>
</head>

<body>
    <h1>各リンクをブックマークバーにドラッグアンドドロップするだけで実行できます</h1>

    <div class="block">
        <h3>Google PlayのアプリをAPK Downloaderに入力した状態で開く</h3>
        <p>
            <a href="javascript: (()=>{if (location.hostname.match(/play\.google\.com/)){window.open(`https://apps.evozi.com/apk-downloader/?id=${location.href.match(/id=([^&]+)/)[1]}`)}})()">APK Downloader</a>
        </p>
        <pre>
            <code>if (location.hostname.match(/play\.google\.com/)){window.open(`https://apps.evozi.com/apk-downloader/?id=${location.href.match(/id=([^&]+)/)[1]}`)}</code>
        </pre>
    </div>

    <div class="block">
        <h3>開いているページをKZ BRAIN Mobileを通して開く</h3>
        <p>
            <a href="javascript: window.open('http://servermobile.net/index.php?_kzm_u=%27+document.location);">KZ BRAIN Mobile</a>
        </p>
        <pre>
            <code>window.open('http://servermobile.net/index.php?_kzm_u=%27+document.location);</code>
        </pre>
    </div>

    <div class="block">
        <h3>開いているページをSteamデスクトップアプリで開く（store.steampowered.comとsteamcommunity.comのみ有効）</h3>
        <p>
            <a href="javascript: location='steam://openurl/'+location">Steamで開く</a>
        </p>
        <pre>
            <code>location='steam://openurl/'+location</code>
        </pre>
    </div>

    <div class="block">
        <h3>開いているページをaguse Gatewayを通して開く</h3>
        <p>
            <a href="javascript: window.open('https://gw.aguse.jp/?aguse_url=%27+document.location);">aguse Gateway</a>
        </p>
        <pre>
            <code>window.open('https://gw.aguse.jp/?aguse_url=%27+document.location);</code>
        </pre>
    </div>

    <div class="block">
        <h3>開いているページ全体を編集可能にする</h3>
        <p>
            <a href="javascript: document.body.contentEditable = true">ContentEditable</a>
        </p>
        <pre>
            <code>document.body.contentEditable = true</code>
        </pre>
    </div>

    <div class="block">
        <h3>ニコニコ動画 ⇔ ニコニコチャート 相互移動（一部ページで動かない）</h3>
        <p>
            <a href="javascript:void%20function(){location.href.match(/^https%3F:\/\/(www|sp)\.nicovideo\.jp/)%26%26(location.href=location.href.replace(/(\%3F.*)$/,%22%22).replace(/^(https%3F:\/\/(www|sp)\.nicovideo\.jp)/,%22http://www.nicochart.jp%22)),location.href.match(/^http:\/\/www\.nicochart\.jp/)%26%26(location.href=location.href.replace(/^(http:\/\/www\.nicochart\.jp)/,%22https://www.nicovideo.jp%22))}();">ニコ動⇔ニコチャ</a>
        </p>
        <pre>
            <code>location.href.match(/^https?:\/\/(www|sp)\.nicovideo\.jp/)&&(location.href=location.href.replace(/(\?.*)$/,"").replace(/^(https?:\/\/(www|sp)\.nicovideo\.jp)/,"http://www.nicochart.jp")),location.href.match(/^http:\/\/www\.nicochart\.jp/)&&(location.href=location.href.replace(/^(http:\/\/www\.nicochart\.jp)/,"https://www.nicovideo.jp"))</code>
        </pre>
    </div>

    <div class="block">
        <h3>開いているページをarchive.todayで保存</h3>
        <p>
            <a href="javascript:void(open('http://archive.today/?run=1&url=%27+encodeURIComponent(document.location)))">archive.today</a>
        </p>
        <pre>
            <code>open('http://archive.today/?run=1&url=%27+encodeURIComponent(document.location))</code>
        </pre>
    </div>

    <div class="block">
        <h3>itch.ioの検索結果からタイトルとURLをtsv形式でコピーする</h3>
        <p>
            <a href="javascript:(function()%7Blet%20o%20%3D%20%22%22%3B%0A%5B...document.querySelector(%60%5Bid%3D%22game_grid_0%22%5D%60).querySelectorAll(%60%5Bclass%3D%22game_title%22%5D%20%3E%20a%60)%5D.forEach((l)%20%3D%3E%20%7B%0A%20%20%20%20o%20%2B%3D%20%60%24%7Bl.textContent%7D%5Ct%24%7Bl.href%7D%5Cn%60%0A%7D)%3B%0Anavigator.clipboard.writeText(o)%3B%7D)()%3B">itch.io tsv</a>
        </p>
        <pre>
            <code>let o = "";[...document.querySelector(`[id="game_grid_0"]`).querySelectorAll(`[class="game_title"] > a`)].forEach((l) => {    o += `${l.textContent}\t${l.href}\n`});navigator.clipboard.writeText(o);</code>
        </pre>
    </div>

    <div class="block">
        <h3>Discordの鯖招待リンクからToolscordに飛ぶ</h3>
        <p>
            <a href="javascript:void%20function(){var%20o;(o=location.href.match(/^https:\/\/discord\.com\/invite\/(\w+)/)[1])%26%26open(%22https://toolscord.com/invite%23%22+o)}();">Discord→Invite Info</a>
        </p>
        <pre>
            <code>var o; if (o = location.href.match(/^https:\/\/discord\.com\/invite\/(\w+)/)[1]) { open('https://toolscord.com/invite#' + o);};</code>
        </pre>
    </div>
</body>

</html>